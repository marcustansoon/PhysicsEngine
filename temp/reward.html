<!DOCTYPE html>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js"></script>
<html>
  <meta name="viewport" content="width=device-width,height=device-height, initial-scale=1">

  <head>
    <style>
      button {
        border-style: solid;
        border-width: 2px;
        border-radius: 35%;
        border-color: rgba(112, 112, 112, 0.7);
        cursor: pointer;
        padding: 6px;
        font-size: calc(10px + 0.4vw);
        margin: 5px;
      }

      head,
      html,
      body {
        width: 100%;
        height: 100%;
        position: fixed;
        overflow-x: hidden;
        overflow-y: hidden;
        padding: 0px;
        margin: 0;
      }

      .bg {
        width: 100%;
        height: 100%;
        left: 0px;
        top: 0px;
        position: absolute;
        padding: 0px;
        margin: 0px;
        z-index: -1;
        overflow: hidden;
      }

      .loginPage {
        width: 50%;
        max-width: 300px;
        position: absolute;
        top: 50%;
        left: 200%;
        margin: 0;
        opacity: 1;
        overflow: hidden;
        transition: 1.0s ease;
        -ms-transform: translate(-50%, -50%);
        transform: translate(-50%, -50%);
        background-color: white;
        border: 3px solid grey;
        padding: 25px;
        overflow-x: hidden;
      }

      .userInfo {
        width: 0%;
        height: 80%;
        max-height: 90%;
        position: absolute;
        margin: 0;
        transform: translate(-50%, -50%);
        left: -20%;
        top: 50%;
        opacity: 1;
        overflow-x: hidden;
        overflow-y: auto;
        transition: 1.0s ease;
        background-color: rgba(255, 255, 255, 0.65);
        padding: 12px;
        padding-top: 0px;
      }

      .mainPage {
        width: 0%;
        height: 80%;
        position: absolute;
        margin: 0;
        transform: translate(-50%, -50%);
        left: -20%;
        top: 50%;
        opacity: 1;
        overflow: hidden;
        transition: 1.0s ease;
        background-color: rgba(255, 255, 255, 0.65);
        padding: 25px;
      }

      .previewRewardPage {
        width: 0%;
        height: 80%;
        position: absolute;
        margin: 0;
        transform: translate(-50%, -50%);
        left: -20%;
        top: 50%;
        opacity: 1;
        overflow: hidden;
        transition: 1.0s ease;
        background-color: rgba(255, 255, 255, 0.65);
        padding: 25px;
      }

      .rewardPage {
        width: 0%;
        height: 80%;
        position: absolute;
        margin: 0;
        transform: translate(-50%, -50%);
        left: -20%;
        top: 50%;
        opacity: 1;
        overflow: hidden;
        transition: 1.0s ease;
        background-color: rgba(255, 255, 255, 0.65);
        padding: 25px;
      }

      .table1,
      .tableMainPage {
        font-family: arial, sans-serif;
        border-collapse: collapse;
        width: 80%;
        overflow-y: auto;
        max-width: 90%;
        margin: auto;
        font-size: calc(10px + 0.5vw);
      }

      .table_header {
        font-size: calc(10px + 0.8vw);
        text-align: center;
      }

      .userInfoButtonConfig {}

      td,
      th {
        border: 1px solid black;
        text-align: left;
        padding: 6px;
      }

      tr:nth-child(even) {
        background-color: #dddddd;
      }

      tr:nth-child(odd) {
        background-color: white;
      }

      .green_black {
        background-color: #48e218;
        color: back;
      }

      .red_white {
        background-color: red;
        color: white;
      }

      .orange_white {
        background-color: #ff9e59;
        color: white;
      }

      .backButton {
        background-image: url("https://i.imgur.com/SS1EJdq.png");
        background-size: cover;
        border-width: 0px;
        background-color: rgba(0, 0, 0, 0);
        width: 45px;
        height: 45px;
        position: absolute;
        left: 10%;
        top: 5%;
        z-index: 1;
      }

      .rewardImage {
        border-radius: 15%;
        border-color: grey;
        border-width: 5px;
        border-style: groove;
      }

      .rewardImageDes {
        font-size: calc(7px + 1.5vw);
        padding: 0.3vw;
        text-align: center;
      }

      .column1 {
        float: right;
        width: 45%;
        padding: 5px;
      }

      .column2 {
        float: left;
        width: 45%;
        padding: 5px;
      }

      .columnMid {
        width: 80%;
        left: 50%;
        transform: translate(-50%);
        position: relative;
        padding: 5px;
      }

      /* Clearfix (clear floats) */

      .row::after {
        content: "";
        clear: both;
        display: table;
      }

      /* Responsive layout - makes the three columns stack on top of each other instead of next to each other */

      @media screen and (max-width: 500px) {
        .co,
        .dd {
          width: 100%;
        }
      }

      .notification {
        border-radius: 40%;
        border-style: groove;
        border-color: black;
        color: white;
        background-color: black;
        position: absolute;
        text-align: center;
        left: 42%;
        top: 50%;
        padding: 10px;
        font-size: calc(10px + 0.5vw);
      }

    </style>
  </head>
  <img src="https://i.imgur.com/8LvoHzV.jpg" class="bg">

  <body>

    <button id="backButton" onclick="backButton();" class="backButton"></button>
    <div class="loginPage" id="loginPage">
      Username : <input type="text" id="loginAdmin" size="15">
      <br><br> Password : <input type="password" id="loginPassword" size="15">
      <div style="color:red;font-size:12px;" id="wrongCreditial" hidden>
        Incorrect password/username. Please re-enter the correct information
      </div>
      <br>
      <br>
      <button id="loginEnter" onclick="loginAdmin()" style="left:50%;position:relative;transform:translate(-50%);" class="green_black">Enter</button>
      <br>
    </div>

    <div class='userInfo' id='userInfo'>
      <div style="padding-left:10%;">
        <br><br> Company Name <input type='text' id="compName">
        <br><br> Login Credentials <input type='text' id="userLoginID">
      </div>
      <br><br>
      <div style="overflow-y:auto;max-height:40%;">
        <table class="table1" id="table1">
          <tr>
            <th class='table_header'>No</th>
            <th class='table_header'>Purchases</th>
            <th class='table_header'>Description</th>
            <th class='table_header'>Points</th>
            <th class='table_header'>Date</th>
          </tr>
          <tr id="newData" style="table_editable">
            <td contenteditable="false"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
          </tr>
        </table>

      </div>
      <br>
      <b><div id="totalPoints" style="position:relative;left:10%;font-size:calc(15px + 0.4vw);"></div></b>
      <br>
      <div style='text-align: center;'>
        <button onclick="appendData();updateTotalPoints();" class="orange_white userInfoButtonConfig">Append Data</button>
        <button onclick="removeData();updateTotalPoints();" class="orange_white userInfoButtonConfig">Remove Data</button><br>
        <button onclick="onSave();" class="green_black userInfoButtonConfig">Save Data</button>
        <button onclick="deleteUser();" class="red_white userInfoButtonConfig">Delete User</button>
      </div>
    </div>

    <div id="mainPage" class="mainPage">
      <div style="font-size:calc(15px + 0.7vw);padding:10px;left:15%;position:relative;"><b>
        User List</b>
      </div>
      <div style="overflow-y:auto;max-height:70%;">
        <table class="tableMainPage" id="tableMainPage">
          <tr>
            <th class='table_header'>Company Name</th>
            <th class='table_header'>Login Credential</th>
            <th class='table_header'>Points</th>

          </tr>

          <tr id="newUserData" style="table_editable">
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="false"></td>
            <td contenteditable="false"><button style="position:relative;left:50%;transform: translate(-50%);">
         
          </button></td>
          </tr>
        </table>
      </div>
      <br>
      <button id="addUser" onclick="addNewUser();" style="position:relative;left:10%;" class="green_black">Add New User</button>
      <button id="editReward" onclick="rewardPageSetup();" style="position:relative;left:10%;" class="orange_white">Edit Reward</button>
      <button id="previewReward" onclick="previewRewardPageSetup();" style="position:relative;left:10%;" class="orange_white">Preview Reward</button>
    </div>




    <div id="rewardPage" class="rewardPage">
      <div style="font-size:calc(15px + 0.7vw);padding:10px;left:15%;color:black;position:relative;"><b>
        Edit Reward</b>
      </div>
      <div style="overflow:auto;max-width:100%;max-height:80%;">
        <table class="tableMainPage" id="tableMainPage">
          <tr>
            <th class='table_header'>Image URL</th>
            <th class='table_header'>Description</th>
          </tr>
          <tr>
            <th class='table_header' contenteditable="true" id="img1"></th>
            <th class='table_header' contenteditable="true" id="des1"></th>
          </tr>
          <tr>
            <th class='table_header' contenteditable="true" id="img2"></th>
            <th class='table_header' contenteditable="true" id="des2"></th>
          </tr>
          <tr>
            <th class='table_header' contenteditable="true" id="img3"></th>
            <th class='table_header' contenteditable="true" id="des3"></th>
          </tr>
          <tr>
            <th class='table_header' contenteditable="true" id="img4"></th>
            <th class='table_header' contenteditable="true" id="des4"></th>
          </tr>
          <tr>
            <th class='table_header' contenteditable="true" id="img5"></th>
            <th class='table_header' contenteditable="true" id="des5"></th>
          </tr>
          <tr>
            <th class='table_header' contenteditable="true" id="img6"></th>
            <th class='table_header' contenteditable="true" id="des6"></th>
          </tr>
          <tr>
            <th class='table_header' contenteditable="true" id="img7"></th>
            <th class='table_header' contenteditable="true" id="des7"></th>
          </tr>
          <tr>
            <th class='table_header' contenteditable="true" id="img8"></th>
            <th class='table_header' contenteditable="true" id="des8"></th>
          </tr>
        </table>
      </div>
      <br>
      <button class="green_black" style="left:10%;position:relative;" onclick="saveReward()">
        Save
        </button>

    </div>



    <div id="previewRewardPage" class="previewRewardPage" style="overflow-y:auto;">
      <div style="font-size:calc(15px + 0.7vw);padding:10px;left:15%;color:black;position:relative;"><b>
        Redeemable Rewards</b>
      </div>
      <div id="previewRewardPageEditable">


        <div class="row">
          <div class="column1">
            <img src="" alt="Snow" style="width:100%;" class="rewardImage">
            <div style="font-size:15px;height:25px;"><b> </b>
            </div>
          </div>
          <div class="column2">
            <img src="" alt="Forest" style="width:100%;" class="rewardImage">
            <div><b></b>
            </div>
          </div>
        </div>
      </div>
    </div>


    <div class="notification" id="notification" hidden>Saved !!!</div>


  </body>


  <script>
    let socket = io('https://charm-dagger.glitch.me/'),
      arr,
      currentView = 0,
      userList,
      isCreatingNewUser = false,
      newCompName = '',
      newLoginCredential = '',
      isDeletingUser,
      isPreviewingReward = false;
    let t = document.getElementById('notification');


    let oldCompName = "",
      oldUserLoginData = "",
      _data;

    transition(0, 1);
    document.getElementById("loginAdmin").addEventListener("keyup", function(event) {

      event.preventDefault();
      // Number 13 is the "Enter" key on the keyboard
      if (event.keyCode === 13) {
        // Trigger the button element with a click
        document.getElementById("loginEnter").click();
      }
    });
    document.getElementById("loginPassword").addEventListener("keyup", function(event) {

      event.preventDefault();
      // Number 13 is the "Enter" key on the keyboard
      if (event.keyCode === 13) {
        // Trigger the button element with a click
        document.getElementById("loginEnter").click();
      }
    });

    function rewardPageSetup() {
      transition(3, 1);
      socket.emit('retrieveReward', '');
    }

    function previewRewardPageSetup() {
      transition(4, 1);
      isPreviewingReward = true;
      socket.emit('retrieveReward', '');
    }


    function showNotification(elem, text, color) {
      let count = 0;
      elem.style.opacity = 1;
      elem.innerHTML = text;
      elem.style.color = color;
      elem.hidden = false;
      let x = setInterval(function() {
        console.log('asd');
        elem.style.opacity -= 0.03;
        elem.style.top = ((50 - count / 2)) + "%";
        count++;
        if (count > 45) {
          clearInterval(x);
          x = null;
          console.log('cc');
          elem.style.opacity = 1;
          elem.style.top = 50 + "%";
          elem.hidden = true;
        }
      }, 30);
    }

    function saveReward() {

      let temp = [],
        temp2;

      if (!confirm("Confirm to save the new Reward Configuration?")) {
        return;
      }

      for (let loop = 1; loop <= 8; loop++) {
        temp.push(document.getElementById('img' + loop).innerHTML);
        temp.push(document.getElementById('des' + loop).innerHTML);

      }
      socket.emit('saveReward', JSON.stringify(temp));
      showNotification(t, 'Saved', '#59f979');
    }

    socket.on('retrieveReward', function(e) {
      console.log(e);
      //['url','des']
      e = JSON.parse(e);
      let temp2 = 0;


      if (isPreviewingReward) {

        document.getElementById('previewRewardPage').innerHTML = '<div class="row">';


        for (let x = 0; x <= 16; x += 4) {

          if (e[x] && e[x + 2] && e[x] !== "" && e[x + 2] !== "") {
            document.getElementById('previewRewardPageEditable').innerHTML += '<div class="column1"> <img src="' + e[x] + '" alt="Snow" style="width:100%;" class="rewardImage"> <div class="rewardImageDes"><b>' + e[x + 1] + ' </b></div> </div> ';


            document.getElementById('previewRewardPageEditable').innerHTML += '<div class="column2"> <img src="' + e[x + 2] + '" alt="Forest" style="width:100%;" class="rewardImage"> <div class="rewardImageDes"><b>' + e[x + 3] + '</b></div>';
          } else if (e[x] && e[x] !== "") {
            document.getElementById('previewRewardPageEditable').innerHTML += '<div class="columnMid"> <img src="' + e[x] + '" alt="Snow" style="width:100%;" class="rewardImage"> <div class="rewardImageDes"><b>' + e[x + 1] + ' </b></div> </div> ';

          } else if (e[x + 2] && e[x + 2] !== "") {
            document.getElementById('previewRewardPageEditable').innerHTML += '<div class="columnMid"> <img src="' + e[x + 2] + '" alt="Forest" style="width:100%;" class="rewardImage"> <div class="rewardImageDes"><b>' + e[x + 3] + '</b></div>';
            console.log('ads');
          }
          document.getElementById('previewRewardPage').innerHTML += '</div>';

        }

        isPreviewingReward = false;
        return;
      }


      for (let temp = 1; temp <= 8; temp++) {
        document.getElementById('img' + temp).innerHTML = e[temp2];
        document.getElementById('des' + temp).innerHTML = e[temp2 + 1];
        temp2 += 2;
      }


    });

    function backButton() {
      if (currentView === 1 && !confirm("Confirm to log out?")) {
        return;
      }

      clearMainPage();
      clearUserInfoPage();
      if (currentView === 2) {
        mainPageSetup();
        transition(1, 2);
      } else if (currentView == 1) {
        clearMainPage();
        transition(0, 1);
      } else if (currentView == 3) {
        mainPageSetup();
        transition(1, 3);
      } else if (currentView == 4) {
        mainPageSetup();
        transition(1, 4);
      }

    }

    function loginAdmin() {
      let temp = {
        'name': document.getElementById('loginAdmin').value,
        'password': document.getElementById('loginPassword').value
      };
      socket.emit('adminLogin', JSON.stringify(temp));
    }

    function mainPageSetup() { //retrieve mainpage userList
      socket.emit('readUserList', '');
      console.log('main');
    }

    function userInfoSetupPage(name) {
      socket.emit('retrieve', name);
      oldUserLoginData = name;
      console.log('transition to userinfo');
      transition(2, 1);
    }

    function clearUserInfoPage() {
      document.getElementById('table1').innerHTML = '<tr> <th class="table_header">No</th> <th class="table_header">Purchases</th> <th class="table_header">Description</th> <th class="table_header">Points</th> <th class="table_header">Date</th> </tr> <tr id="newData" style="background-color: rgba(255, 248, 219, 0.3);"> <td contenteditable="false"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> </tr>';
    }

    function clearMainPage() {
      document.getElementById('tableMainPage').innerHTML = '<tr> <th class="table_header">Company Name</th> <th class="table_header">Login Credential</th> <th class="table_header">Points</th> </tr> <tr id="newUserData" style="background-color: rgba(255, 248, 219, 0.3);"> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="false"></td> <td contenteditable="false"><button style="position:relative;left:50%;transform: translate(-50%);"> > </button></td> </tr>';
    }

    function addNewUser() {

      let newData = document.getElementById("newUserData"),
        temp = document.getElementById('tableMainPage');

      if (!confirm("Confirm to add new user with Company Name '" + newData.childNodes[1].innerHTML + "' and Login Credential of '" + newData.childNodes[3].innerHTML + "'")) {
        return;
      }

      newData.parentNode.removeChild(newData);

      temp.innerHTML += '<tr><th>' + newData.childNodes[1].innerHTML + '</th> <th>' + newData.childNodes[3].innerHTML + '</th> <th>' + 0 + '</th><th><button>></button></th></tr>';

      temp.innerHTML += '<tr id="newUserData" style="background-color: rgba(255, 248, 219, 0.3);"> <td contenteditable="true"></td> <td contenteditable="true"></td> </td>';
      isCreatingNewUser = true;
      newCompName = newData.childNodes[1].innerHTML;
      newLoginCredential = newData.childNodes[3].innerHTML;
      socket.emit('readData', '');
    }

    socket.on('connect', function() {
      console.log('connected');
    });
    socket.on('loginSuccess', function(e) {
      console.log('login Success');
      clearMainPage();
      mainPageSetup();
      transition(1, 0);
      document.getElementById('wrongCreditial').hidden = true;
      document.getElementById('loginPassword').value = '';

    });
    socket.on('loginFail', function(e) {
      console.log('fail');
      document.getElementById('loginPassword').value = '';
      document.getElementById('wrongCreditial').hidden = false;
    });
    socket.on('retrieve', function(e) {
      e = JSON.parse(e);
      oldCompName = e.compName;
      arr = e.data;
      onRetrieve();
      console.log('retrieve user info succ');
      console.log(e);
    });
    socket.on('readUserList', function(e) {
      e = JSON.parse(e);
      let temp = Object.keys(e);

      onUserListRetrieve(temp, e);

    });

    function onUserListRetrieve(arr, obj) {
      let newData = document.getElementById("newUserData"),
        temp = document.getElementById('tableMainPage');

      newData.parentNode.removeChild(newData);

      arr.forEach(function(name, index) {

        temp.innerHTML += '<tr><th>' + obj[name].compName + '</th> <th>' + name + '</th> <th>' + obj[name].tp + '</th><th><button id="userInfoButton' + index + '" style="left:50%;position:relative;transform:translate(-50%);" onclick="onClickUserInfoButton(\'' + name + '\',' + index + ');">>></button></th></tr>';
      });

      temp.innerHTML += '<tr id="newUserData" style="background-color: rgba(255, 248, 219, 0.3);"> <td contenteditable="true"></td> <td contenteditable="true"></td> </td>';

    }

    function onClickUserInfoButton(name, buttonNum) {
      console.log('button pressed for ' + name, buttonNum);
      clearUserInfoPage();
      userInfoSetupPage(name);

    }

    function deleteUser() {
      if (!confirm("Confirm to delete this user?")) {
        return;
      }

      isDeletingUser = true;
      newLoginCredential = document.getElementById('userLoginID').value;
      socket.emit('readData', '');
    }
    socket.on('readData', function(e) { //saving process
      if (isDeletingUser) {
        _data = JSON.parse(e);
        console.log(_data[newLoginCredential]);
        delete _data[newLoginCredential];

        console.log(_data[newLoginCredential]);
        socket.emit('save', JSON.stringify(_data));

        console.log('deleted');
        backButton();
        return;
      } else if (isCreatingNewUser) {
        _data = JSON.parse(e);
        _data[newLoginCredential] = {
          "data": [],
          "compName": newCompName,
          "tp": 0
        };
        socket.emit('save', JSON.stringify(_data));

        clearMainPage();
        mainPageSetup();
        return;
      }
      //save user data
      let newName = document.getElementById("userLoginID").value;
      _data = JSON.parse(e);
      if (oldUserLoginData !== newName) {
        delete _data[oldUserLoginData];
        _data[newName] = {};
      }
      _data[newName].data = arr;
      _data[newName].tp = updateTotalPoints();
      _data[newName].compName = document.getElementById("compName").value;
      socket.emit('save', JSON.stringify(_data));

    });
    socket.on('saveSuccess', function(e) {
      if (e === JSON.stringify(_data)) {
        console.log('succs');
        if (isCreatingNewUser) {
          isCreatingNewUser = false;
          showNotification(t, 'Created<br>Successfully', '#59f979');
        } else if (isDeletingUser) {
          isDeletingUser = false;
          showNotification(t, 'Deleted<br>Successfully', '#59f979');
        } else {
          showNotification(t, 'Saved<br>Successfully', '#59f979');
        }
      } else {
        console.log('save error');
        showNotification(t, 'Saving Failed', '#ff2111');
      }

    });

    function onRetrieve() {
      let newData = document.getElementById("newData"),
        temp = document.getElementById('table1'),
        temp2;


      newData.parentNode.removeChild(newData);

      arr.forEach(function(element, index) {
        temp2 = index + 1;
        temp.innerHTML += '<tr id="no' + index + '"> <td>' + temp2 + '</td> <td>' + element.purchases + '</td> <td>' + element.description + '</td> <td>' + element.points + '</td> <td>' + element.date + '</td> </tr>';
      });


      temp.innerHTML += '<tr id="newData" style="background-color: rgba(255, 248, 219, 0.3);"> <td contenteditable="false"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> </tr>';

      document.getElementById("compName").value = oldCompName;
      document.getElementById("userLoginID").value = oldUserLoginData;

      updateTotalPoints();
    }

    function onSave() {
      if (!confirm("Confirm to save the new User Infomation?")) {
        return;
      }
      socket.emit('readData', '');
    }

    function appendData() {
      let newData = document.getElementById("newData"),
        temp = document.getElementById('table1'),
        temp2 = arr.length + 1;

      newData.parentNode.removeChild(newData);

      temp.innerHTML += '<tr id="no' + arr.length + '"> <td>' + temp2 + '</td> <td>' + newData.childNodes[3].innerHTML + '</td> <td>' + newData.childNodes[5].innerHTML + '</td> <td>' + newData.childNodes[7].innerHTML + '</td> <td>' + newData.childNodes[9].innerHTML + '</td> </tr>';

      arr[arr.length] = {
        'description': newData.childNodes[5].innerHTML,
        'purchases': newData.childNodes[3].innerHTML,
        'points': newData.childNodes[7].innerHTML,
        'date': newData.childNodes[9].innerHTML
      };

      temp.innerHTML += '<tr id="newData" style="background-color: rgba(255, 248, 219, 0.3);"> <td contenteditable="false"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> </tr>';
    }

    function removeData() {
      let temp = arr.length - 1;
      temp = document.getElementById('no' + temp);
      temp.parentNode.removeChild(temp);
      arr.pop();
    }

    function updateTotalPoints() {
      let totalPoints = document.getElementById('totalPoints'),
        sum = 0;

      arr.forEach(function(element) {
        sum += Number(element.points);
      });

      totalPoints.innerHTML = "Total Points : " + sum;
      return sum;
    }
    document.onkeydown = function() {}


    function transition(to, from) { //back pressed
      currentView = to;
      document.getElementById('backButton').hidden = false;
      if (to === 2) {

        document.getElementById('userInfo').style.width = '80%';

        document.getElementById('userInfo').style.left = "50%";

      } else if (to === 0) {
        document.getElementById('loginPage').style.width = '50%';
        document.getElementById('loginPage').style.left = "50%";
        document.getElementById('backButton').hidden = true;

      } else if (to === 1) {

        document.getElementById('mainPage').style.width = '80%';
        document.getElementById('mainPage').style.left = "50%";
      } else if (to === 3) {

        document.getElementById('rewardPage').style.width = '80%';
        document.getElementById('rewardPage').style.left = "50%";
      } else if (to === 4) {

        document.getElementById('previewRewardPage').style.width = '80%';
        document.getElementById('previewRewardPage').style.left = "50%";
      }

      if (from === 2) {
        document.getElementById('userInfo').style.width = '0%';
        // document.getElementById('userInfo').style.transition="0s ease";
        document.getElementById('userInfo').style.left = "-20%";


      } else if (from === 0) {
        document.getElementById('loginPage').style.width = '0%';
        //document.getElementById('loginPage').style.transition="0s ease";

        document.getElementById('loginPage').style.left = "200%";

      } else if (from === 1) {
        document.getElementById('mainPage').style.width = '0%';
        //document.getElementById('loginPage').style.transition="0s ease";
        if (to === 0)
          document.getElementById('mainPage').style.left = "-20%";
        else
          document.getElementById('mainPage').style.left = "200%";
      } else if (from === 3) {
        document.getElementById('rewardPage').style.width = '0%';
        // document.getElementById('userInfo').style.transition="0s ease";
        document.getElementById('rewardPage').style.left = "-20%";

      } else if (from === 4) {
        document.getElementById('previewRewardPage').style.width = '0%';
        // document.getElementById('userInfo').style.transition="0s ease";
        document.getElementById('previewRewardPage').style.left = "-20%";

      }
    }

  </script>

</html>
