class AnimatedSpriteTextureManager{constructor(src,isJSON,properties){properties.isJSON=isJSON;this.AnimatedSpriteTextureProperties=properties;this.AnimatedSpriteTextureBaseT=null;if(typeof src==="string"){if(isJSON&&PIXI.loader.resources[src].textures[properties.name]) {this.AnimatedSpriteTextureBaseT=PIXI.loader.resources[src].textures[properties.name];this.AnimatedSpriteTextureProperties.x=this.AnimatedSpriteTextureBaseT.frame.x;this.AnimatedSpriteTextureProperties.y=this.AnimatedSpriteTextureBaseT.frame.y;this.AnimatedSpriteTextureProperties.width=this.AnimatedSpriteTextureBaseT.frame.width;this.AnimatedSpriteTextureProperties.height=this.AnimatedSpriteTextureBaseT.frame.height;} else if(PIXI.loader.resources[src].texture) {this.AnimatedSpriteTextureBaseT=PIXI.loader.resources[src].texture;}}} extractTexture(){let properties=this.AnimatedSpriteTextureProperties,base_texture=this.AnimatedSpriteTextureBaseT,textures=[];if(!properties.x){properties.x=0;} if(!properties.y){properties.y=0;} if(!properties.rol&&!properties.col&&properties.width&&properties.height) {if(properties.isJSON){properties.col=Math.floor((base_texture.width)/properties.width);properties.row=Math.floor((base_texture.height)/properties.height);} else {properties.col=Math.floor((base_texture.width-properties.x)/properties.width);properties.row=Math.floor((base_texture.height-properties.y)/properties.height);}} else if(!properties.width&&!properties.height&&properties.row&&properties.col) {properties.width=Math.floor((base_texture.width-properties.x)/properties.col);properties.height=Math.floor((base_texture.height-properties.y)/properties.row);} for(let row=0;row<properties.row;row++){for(let col=0;col<properties.col;col++){let rectangle=new PIXI.Rectangle(properties.x+col*properties.width,properties.y+row*properties.height,properties.width,properties.height);let texture_temp=new PIXI.Texture(base_texture);texture_temp.frame=rectangle;textures.push(texture_temp);properties.total_frames--;if(properties.total_frames===0) {row=999;break;}}} properties=undefined;base_texture=undefined;delete this.AnimatedSpriteTextureProperties;delete this.AnimatedSpriteTextureBaseT;return textures;}} PIXI.AnimatedSpriteTextureManager=AnimatedSpriteTextureManager;
